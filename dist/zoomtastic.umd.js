!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Zoomtastic=e()}(this,function(){Object.assign||(console.log("Object.assing polyfill enabled"),Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=arguments;if(null==t)throw new TypeError("Cannot convert first argument to object");for(var i=Object(t),o=1;o<arguments.length;o++){var n=e[o];if(null!=n){n=Object(n);for(var r=Object.keys(Object(n)),s=0,a=r.length;s<a;s++){var l=r[s],c=Object.getOwnPropertyDescriptor(n,l);void 0!==c&&c.enumerable&&(i[l]=n[l])}}}return i}})),window.NodeList&&!NodeList.prototype.forEach&&(console.log("NodeList.forEach polyfill enabled"),NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)});var t=function(t){if(this.state="shown",this.config={preload:!0,duration:150,delay:200,zoomInCursor:"zoom-in",zoomOutCursor:"zoom-out",background:"rgba(0, 0, 0, 0.75)",easing:"ease-out",zIndex:"16777271",top:"50%",left:"50%",width:"90%",height:"90%",filter:"drop-shadow(0 4px 64px rgba(0, 0, 0, 0.2))",baseTop:"55%",baseLeft:"50%",baseWidth:"90%",baseHeight:"90%",baseFilter:"drop-shadow(0 4px 64px rgba(0, 0, 0, 0.2))"},t){if("object"!=typeof this.config)throw new TypeError("Config must be an object");if(this.config=Object.assign(this.config,t),"boolean"!=typeof this.config.preload)throw new TypeError('Field "preload" must be a boolean');if("number"!=typeof this.config.duration)throw new TypeError('Field "duration" must be a number');if("number"!=typeof this.config.delay)throw new TypeError('Field "delay" must be a number');if("string"!=typeof this.config.zoomInCursor)throw new TypeError('Field "zoomInCursor" must be a string');if("string"!=typeof this.config.zoomOutCursor)throw new TypeError('Field "zoomOutCursor" must be a string');if("string"!=typeof this.config.background)throw new TypeError('Field "background" must be a string');if("string"!=typeof this.config.easing)throw new TypeError('Field "easing" must be a string');if("string"!=typeof this.config.top)throw new TypeError('Field "top" must be a string');if("string"!=typeof this.config.left)throw new TypeError('Field "left" must be a string');if("string"!=typeof this.config.width&&"number"!=typeof this.config.width)throw new TypeError('Field "width" must be a number or string');if("string"!=typeof this.config.height&&"number"!=typeof this.config.height)throw new TypeError('Field "height" must be a number or string');if("string"!=typeof this.config.filter)throw new TypeError('Field "filter" must be a string');if("string"!=typeof this.config.baseTop)throw new TypeError('Field "baseTop" must be a string');if("string"!=typeof this.config.baseLeft)throw new TypeError('Field "baseLeft" must be a string');if("string"!=typeof this.config.baseWidth&&"number"!=typeof this.config.baseWidth)throw new TypeError('Field "baseWidth" must be a number or string');if("string"!=typeof this.config.baseHeight&&"number"!=typeof this.config.baseHeight)throw new TypeError('Field "baseHeight" must be a number or string');if("string"!=typeof this.config.baseFilter)throw new TypeError('Field "baseFilter" must be a string')}this.mount()};return t.prototype.mount=function(){var t=this,e=document.getElementById("zoomtastic-container");e&&e.remove(),this.state="hidden";var i=document.createElement("div");i.id="zoomtastic-container",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100vh",i.style.opacity="0",i.style.position="fixed",i.style.overflow="hidden",i.style.cursor=this.config.zoomOutCursor,i.style.zIndex=String(this.config.zIndex),i.style.backgroundColor=this.config.background,i.style.transitionProperty="all",i.style.transitionDuration=this.config.duration+"ms",i.style.transitionTimingFunction=this.config.easing,i.style.display="none";var o=document.createElement("div");o.id="zoomtastic-image",o.style.top=String(this.config.baseTop),o.style.left=String(this.config.baseLeft),o.style.width=String(this.config.baseWidth),o.style.height=String(this.config.baseHeight),o.style.zIndex=String(this.config.zIndex),o.style.opacity="0",o.style.display="block",o.style.position="absolute",o.style.transform="translate(-50%, -50%)",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.backgroundPosition="center",o.style.transitionProperty="all",o.style.transitionDuration=this.config.duration+"ms",o.style.transitionTimingFunction=this.config.easing,o.style.filter=this.config.baseFilter,i.addEventListener("click",function(){return t.hide()}),i.appendChild(o),document.body.appendChild(i)},t.prototype.clearTimers=function(){this.loadingTimer&&clearInterval(this.loadingTimer),this.durationTimer&&clearInterval(this.durationTimer),this.delayTimer&&clearInterval(this.delayTimer),document.getElementById("zoomtastic-container").style.display="shown"===this.state?"block":"none"},t.prototype.listen=function(t){var e=this;void 0===t&&(t="[zoomtastic]"),document.querySelectorAll(t).forEach(function(t){t.style.cursor=e.config.zoomInCursor,t.addEventListener("click",function(i){i.preventDefault();var o=t.getAttribute("zoomtastic")||t.getAttribute("src")||t.getAttribute("lowsrc");o&&e.show(o)})})},t.prototype.show=function(t){var e=this,i=!this.config.preload;if("string"!=typeof t)throw new TypeError("URL must be a string");var o=document.getElementById("zoomtastic-container"),n=document.getElementById("zoomtastic-image");if("function"==typeof this.config.onShow&&this.config.onShow(),this.clearTimers(),o.style.display="block",setTimeout(function(){return o.style.opacity="1"},0),n.style.backgroundImage='url("'+encodeURI(t)+'")',this.config.preload){var r=new Image;r.onload=function(){i=!0},r.onerror=function(){e.clearTimers()},r.src=t}this.delayTimer=setTimeout(function(){e.loadingTimer=setInterval(function(){i&&(n.style.opacity="1",n.style.top=String(e.config.top),n.style.left=String(e.config.left),n.style.width=String(e.config.width),n.style.height=String(e.config.height),n.style.filter=e.config.filter,e.state="shown",e.clearTimers())},10)},this.config.delay)},t.prototype.hide=function(){var t=this,e=document.getElementById("zoomtastic-container"),i=document.getElementById("zoomtastic-image");"function"==typeof this.config.onHide&&this.config.onHide(),this.clearTimers(),this.state="hidden",i.style.opacity="0",i.style.top=String(this.config.baseTop),i.style.left=String(this.config.baseLeft),i.style.width=String(this.config.baseWidth),i.style.height=String(this.config.baseHeight),i.style.filter=this.config.baseFilter,this.delayTimer=setTimeout(function(){e.style.opacity="0",t.durationTimer=setTimeout(function(){return e.style.display="none"},t.config.duration)},this.config.delay)},t});
//# sourceMappingURL=zoomtastic.umd.js.map
